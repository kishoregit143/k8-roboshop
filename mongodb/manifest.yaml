apiversion: app/v1
kind: Deployment
metadata:
 name: mongodb
 namespace: roboshop
 #this labels are replecaset labels
 labels:
   project: toboshop
   component: mongodb
   tier: db
spec:
 replicas: 1
 selector:
 # this lablels used to  select the pods
  matchlabels:
   project: toboshop
   component: mongodb
   tier: db
   #pod defention
  templects:
    metadata:
      labels:
      project: toboshop
      component: mongodb
      tier: db
    spec:
      containers:
      - name: mongodb
        image: pullfrom dockerhub
        rednessProbe:
          tcpsocket:
            port: 27017
            initialdelayseconds: 10
            persionseconds: 10

        livenessProbe:
          tcpsocket:
            port: 27017
            initialdelayseconds: 5
            persionseconds: 5    

---
apiversion: v1
kind: services
metadata:
   name: mongodb
   namespace: mongodb
spec:
 selector:
   project: toboshop
   component: mongodb
   tier: db
   imagepullpolicy: always
ports:
    - protocol: tcp
      port: 27017 #services port
      targetport: 27017  #containers port

        